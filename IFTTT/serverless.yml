service: IFTTT

provider:
  name: dronedeploy

custom:
  appId: # APP ID GOES HERE

plugins:
  - "serverless-dronedeploy"

package:
  individually: true
  exclude:
    - node_modules/**

functions:
  webhook:
    name: "ifttt-webhook"
    handlerPath: functions/webhook
    handler: webhook
    app: # APP ID GOES HERE
    memory: 128
    package:
      artifact: ./.serverless/webhook.zip
      include:
        - 'functions/webhook/.env'
    resources:
      tables:
        webhook-table:
          description: "stores endpoint for IFTTT webhook"
          columns:
            - name: endpoint
              type: Text
              encrypted: false
              length: 255
              description: "webhook endpoint for IFTTT"

