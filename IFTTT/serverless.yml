service: IFTTT

provider:
  name: dronedeploy

app: # APP ID GOES HERE

plugins:
  - "@dronedeploy/dronedeploy-cli"

functions:
  webhook:
    name: "ifttt-webhook"
    handlerPath: functions/webhook
    handler: webhook
    memory: 128
    function-triggers:
      - event-object-type: Export
        event-type: complete
    resources:
      tables:
        webhook-table:
          description: "stores endpoint for IFTTT webhook"
          columns:
            - name: endpoint
              type: Text
              encrypted: false
              length: 255
              description: "webhook endpoint for IFTTT"

